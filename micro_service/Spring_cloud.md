## Spring cloud


### Spring cloud book
**Spring Cloud实战**
- 第一章：微服务
  
  **微服务面临的问题**
  - 运维的挑战
  - 接口一致性
  - 分布式复杂性

  **微服务的9大特性**
  - 服务组件化
  - 按业务组织团队
  - 做产品态度
  - 智能断点和哑管道：服务之间的通信RPC
  - 去中心化治理
  - 去中心化的数据管理
  - 基础设置的自动化：CICD
  - 容错设置
  - 演进式设计
  
- 第二章：服务注册：Eureke
  **三个核心要素**
  - 服务注册中心：通过自己注册自己同时注册别人，可以实现注册中心的高可用
  - 服务提供者
  - 服务消费者

  **服务治理机制**
  - 服务提供者
    - 服务注册
    - 服务同步：同一个服务，不同的实例分别注册，同时需要和注册中心同步
    - 服务续约：心跳机制
  - 服务消费者
    - 获取服务：通过REST和服务中心沟通，获取只读服务列表；服务中心30秒自动刷新服务列表
    - 服务调用：通过服务名获取提供服务者的列表，可以通过客户端的Ribbon以轮询的方式调用服务
    - 服务下线
  - 服务注册中心
    - 失效剔除
    - 自我保护
- 客户端负载均衡：Ribbon
  - 基础：基于HTTP和TCP客户端负载均衡
  - 客户端和服务器负载均衡区别：
    - 客户端需要维护需要访问的来自于注册中心的服务列表；需要心态机制维护服务清单的健康性
- 服务容错保护：Hystrix
  - 基础：如果多个服务互相调用中，有一个服务因为网络原因或是其他原因造成无法提供服务，调用方会造成线程挂起，如果调用方同时挂起，会造成系统不可用
- 声明式服务调用：Feign
  - 基础：通过对Ribbon和Hystrix进一步封装对服务提供声明式的服务调用
  